OASISFormat:  0.3
Name:         mlvm
Version:      0.1
Synopsis:     Pure OCaml volume manager, compatible with Linux LVM
License:      LGPL-2.1 with OCaml linking exception
Authors:      various
Copyrights:   (C) 2012 Citrix
BuildTools:   ocamlbuild
Plugins:      DevFiles (0.3), META (0.3)

Flag mapper
  Description: build the device-mapper interface
  Default: false

Library lvm
  Path: lib
  Modules: Result, S, Monad, Absty, Allocator, Constants, Label, Metadata, Crc, IO, Logging, Lvmconfiglex, Lvmconfigparser, Lv, Uuid, Pv, Redo, Tag, Utils, Vg, Magic, UnalignedBlock
  Findlibname: lvm
  Pack: true
  BuildDepends: sexplib.syntax,sexplib,uuidm,re.str,cstruct,mirage-types,lwt,io-page

Library lvm_mapper
  Build$: flag(mapper)
  Install$: flag(mapper)
  Path: mapper
  Modules: Mapper
  Findlibname: mapper
  Findlibparent: lvm
  BuildDepends: lvm, devmapper, mirage-block-unix

Executable mlvm
  CompiledObject:     best
  Path:               src
  MainIs:             main.ml
  Custom:             true
  Install:            false
  BuildDepends:       lvm, cmdliner, io-page.unix, io-page, mirage-block-unix, io-page.unix

Executable tag_test
  CompiledObject:     best
  Path:               lib_test
  MainIs:             tag_test.ml
  Custom:             true
  Install:            false
  BuildDepends:       lvm, oUnit, io-page.unix

Test tag_test
  Command:            ./tag_test.native
  Run:                true

Executable vg_test
  CompiledObject:     best
  Path:               lib_test
  MainIs:             vg_test.ml
  Custom:             true
  Install:            false
  BuildDepends:       lvm, oUnit, io-page.unix, io-page, mirage-block-unix, io-page.unix

Test vg_test
  Command:            ./vg_test.native
  Run:                true
